<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<title>Ejercicio 1 - Comprobar disponibilidad del login</title>

		<script type="text/javascript">
			window.onload = function(){
				document.getElementById('comprobar').addEventListener('click',comprueba);
			}


			function comprueba() {
				var xmlhttp = new XMLHttpRequest();
					xmlhttp.onreadystatechange = function() {
							if (xmlhttp.readyState==4 && xmlhttp.status==200) {
                                respuesta = JSON.parse(xmlhttp.responseText);
                                if (respuesta.alternativas == null) {
                                	document.getElementById("disponibilidad").innerHTML = respuesta.disponible + ' esta disponible el nombre de usuario ' + login.value;
                                }else {
                                	document.getElementById("disponibilidad").innerHTML = respuesta.disponible + ' esta disponible el nombre de usuario ' + login.value + '<br/> Utiliza alguna de estas alternativas : ' + respuesta.alternativas ;
                                }
							} 
					}

				xmlhttp.open("GET","compruebaDisponibilidadJSON.php?login=" + login.value+"" ,true);
				xmlhttp.send();

			}
		</script>
	</head>

	<body>
		<h1>Comprobar disponibilidad del login</h1>
		<form>
			<label for="login">Nombre de usuario:</label>
			<input type="text" name="login" id="login" />
			<input type="button" id="comprobar" Value="Comprobar disponibilidad">
		</form>
		<br><br>
		<div id="disponibilidad"></div>

	</body>
</html>
